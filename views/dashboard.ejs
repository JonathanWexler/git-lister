<script type="text/javascript">
  ( function () {
    let star = document.getElementsByClassName( 'repo_star' );
    star.on( 'click', ( e ) => {
      alert( 'clicked' );
    } );

  } )();

</script>
<style>
  .container {
    width: 100%;
    min-height: 100%;
    padding-bottom: 100px;
    font-family: Arial;
  }

  .dashboard {
    background-color: #f8f8f8;
  }

  .header {
    font-weight: bold;
    text-align: center;
    color: #313131;
    font-size: 40px;
    padding-top: 100px;
  }

  .project {
    width: 60%;
    background-color: white;
    min-height: 200px;
    padding-top: 25px;
    padding-bottom: 25px;
    border-radius: 5px;
    margin: 0 auto;
  }

  .project a {
    text-decoration: none;
  }

  .issue {
    width: 90%;
    margin: 0 auto;
    min-height: 150px;
    background-color: #d1ffd1;
    border-radius: 5px;
    margin-top: 25px;
    font-size: 20px;
  }

  .issue:hover {
    width: 95%;
    cursor: pointer;
  }

  .issue_status {
    width: 30px;
    display: inline-block;
    height: 30px;
    background-color: #ebebeb;
    border: 3px solid white;
    border-radius: 20px;
    margin: 10px;
    float: right;
    overflow: hidden;
  }

  .progress {
    background-color: green;
  }

  .hold {
    background-color: #ffd60d;
  }

  .stalled {
    background-color: #cb0000;
  }

  .issue_title {
    padding: 20px;
    font-size: 30px;
    font-weight: bold;
    color: #313131;
  }

  .issue_description {
    padding: 20px;
    padding-top: 0;
    color: #545353;
  }

  .issue_footer {
    min-height: 40px;
  }

  .issue_author {
    padding: 20px;
    padding-top: 0;
    font-style: italic;
    display: inline-block;
    float: left;
    color: #2900c3;
  }

  .issue_count {
    padding: 20px;
    padding-top: 0;
    font-style: italic;
    display: inline-block;
    float: left;
    color: #a49f9f;
  }

  .issue_date {
    padding: 20px;
    padding-top: 0;
    color: #545353;
    display: inline-block;
    float: right;
  }

  @media (max-width: 1000px) {
    .project {
      width: 95%;
    }
    .issue {
      font-size: 15px;
    }
  }

  .star {
    /* width: 25px;
    padding: 3px;
    padding-bottom: 5px;
    z-index: 100; */
    fill: white;
  }

  .star:hover {
    fill: gold;
  }

  .favorite_link svg {
    /* margin: 5; */
    margin-bottom: -10;
  }

</style>

<div class="container dashboard">

  <h1 class="header">
		<%= title %>
	</h1>

  <div class="project">
    <% data.forEach((card) => { %>
      <a href="/repo/<%= card.author %>/<%= card.title %>/">
        <div class="issue">
          <span class="issue_status <%= card.status %>">
					</span>

          <div class="issue_title">
            <%= card.title %>
              <% if (card.isRepo) { %>
                <a href="/repos/<%= card._id %>/favorite" class="favorite_link">
								<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50">
								<g transform="scale(.2)">
									<path class="star" d="m55,237 74-228 74,228L9,96h240"/>
									</g>
								</svg>
							</a>
                <% } %>
          </div>
          <div class="issue_description">
            <%= card.description %>
          </div>

          <div class="issue_footer">
            <div class="issue_author">
              <%= card.author %>
            </div>

            <div class="issue_count">
              <%= card.count %> comments...
            </div>

            <div class="issue_date">
              <%= card.lastUpdated %>
            </div>
          </div>

        </div>
      </a>
      <% }); %>

  </div>


</div>
